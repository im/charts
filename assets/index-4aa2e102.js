import{d as k,c as H,o as z,m as U,j as J,f as Q,_ as Z,x as q}from"./index-ad4a908b.js";const ve="/charts/logo.svg";function ee(e){return{all:e=e||new Map,on:function(t,s){var n=e.get(t);n?n.push(s):e.set(t,[s])},off:function(t,s){var n=e.get(t);n&&(s?n.splice(n.indexOf(s)>>>0,1):e.set(t,[]))},emit:function(t,s){var n=e.get(t);n&&n.slice().map(function(r){r(s)}),(n=e.get("*"))&&n.slice().map(function(r){r(t,s)})}}}const Pe=ee(),v="/charts/assets/BAR_BASICS-462e0ed4.jpg",P="/charts/assets/DYNAMIC_LINE_BAR_MIX-a5981d26.gif",x="/charts/assets/DYNAMIC_RANKING_BAR-097dd3db.gif",j="/charts/assets/DYNAMIC_RING-1ae115f4.gif",L="/charts/assets/LINE_BASICS-1719fc24.jpg",T="/charts/assets/LINE_BASICS1-35682591.gif",O="/charts/assets/PIE_BASICS-20f9e585.jpg",Y="/charts/assets/RING_BASICS-ea247abe.jpg",te="/charts/assets/folder-big-144a6fca.svg",se="/charts/assets/plus-6fef50b3.svg",xe=e=>new URL(Object.assign({"../assets/images/charts/BAR_BASICS.jpg":v,"../assets/images/charts/DYNAMIC_LINE_BAR_MIX.gif":P,"../assets/images/charts/DYNAMIC_RANKING_BAR.gif":x,"../assets/images/charts/DYNAMIC_RING.gif":j,"../assets/images/charts/LINE_BASICS.jpg":L,"../assets/images/charts/LINE_BASICS1.gif":T,"../assets/images/charts/PIE_BASICS.jpg":O,"../assets/images/charts/RING_BASICS.jpg":Y,"../assets/images/folder-big.svg":te,"../assets/images/plus.svg":se})[`../assets/images/${e}`],self.location).href,ne=e=>new URL(Object.assign({"../assets/images/charts/BAR_BASICS.jpg":v,"../assets/images/charts/DYNAMIC_LINE_BAR_MIX.gif":P,"../assets/images/charts/DYNAMIC_RANKING_BAR.gif":x,"../assets/images/charts/DYNAMIC_RING.gif":j,"../assets/images/charts/LINE_BASICS.jpg":L,"../assets/images/charts/LINE_BASICS1.gif":T,"../assets/images/charts/PIE_BASICS.jpg":O,"../assets/images/charts/RING_BASICS.jpg":Y})[`../assets/images/charts/${e}`],self.location).href,re=k({__name:"previewImage",props:{chart:{type:Object,default:()=>({})}},setup(e){const t=e,s=H(()=>{const n=t.chart.value||t.chart.type,r=~n.indexOf("DYNAMIC_")?".gif":".jpg";return ne(n+r)});return(n,r)=>{const a=Q("el-image");return z(),U(a,{src:J(s),fit:"cover",lazy:!0},null,8,["src"])}}});const je=Z(re,[["__scopeId","data-v-789b78cc"]]),B="DYNAMIC_",G="LINE_",F="BAR_",g="PIE_",$="RING_",D={[B]:"动态图表",[G]:"线形图",[F]:"柱状图",[g]:"饼图"},A={[`${B}RANKING_BAR`]:{label:"动态排名变化图",icon:"icon-paiming"},[`${B}RING`]:{label:"动态环形图",icon:"icon-huanxingtu1"},[`${G}BASICS`]:{label:"基础折线图",icon:"icon-zhexiantu"},[`${g}BASICS`]:{label:"基础饼图",icon:"icon-bingtu"},[`${F}BASICS`]:{label:"基础柱状图",icon:"icon-chartcolumn"},[`${$}BASICS`]:{label:"基础环形图",icon:"icon-huanxingtu"}},oe=[`${g}BASICS`,`${$}BASICS`],ae=Object.keys(A).map(e=>({label:A[e].label,icon:A[e].icon,value:e})),Le=()=>Object.keys(D).map(e=>({label:D[e],value:e,children:ae.filter(t=>{if(e===g)return oe.includes(t.value);const s=t.value.indexOf(e);return~s&&s===0})})),C=(e,t)=>t.some(s=>e instanceof s);let E,R;function ce(){return E||(E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ie(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V=new WeakMap,p=new WeakMap,X=new WeakMap,m=new WeakMap,h=new WeakMap;function ue(e){const t=new Promise((s,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{s(i(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(s=>{s instanceof IDBCursor&&V.set(s,e)}).catch(()=>{}),h.set(t,e),t}function _e(e){if(p.has(e))return;const t=new Promise((s,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{s(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});p.set(e,t)}let b={get(e,t,s){if(e instanceof IDBTransaction){if(t==="done")return p.get(e);if(t==="objectStoreNames")return e.objectStoreNames||X.get(e);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return i(e[t])},set(e,t,s){return e[t]=s,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function K(e){b=e(b)}function Ie(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const n=e.call(l(this),t,...s);return X.set(n,t.sort?t.sort():[t]),i(n)}:ie().includes(e)?function(...t){return e.apply(l(this),t),i(V.get(this))}:function(...t){return i(e.apply(l(this),t))}}function de(e){return typeof e=="function"?Ie(e):(e instanceof IDBTransaction&&_e(e),C(e,ce())?new Proxy(e,b):e)}function i(e){if(e instanceof IDBRequest)return ue(e);if(m.has(e))return m.get(e);const t=de(e);return t!==e&&(m.set(e,t),h.set(t,e)),t}const l=e=>h.get(e);function fe(e,t,{blocked:s,upgrade:n,blocking:r,terminated:a}={}){const o=indexedDB.open(e,t),_=i(o);return n&&o.addEventListener("upgradeneeded",c=>{n(i(o.result),c.oldVersion,c.newVersion,i(o.transaction),c)}),s&&o.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),_.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),_}const le=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],S=new Map;function M(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(S.get(t))return S.get(t);const s=t.replace(/FromIndex$/,""),n=t!==s,r=ge.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(r||le.includes(s)))return;const a=async function(o,..._){const c=this.transaction(o,r?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(_.shift())),(await Promise.all([u[s](..._),r&&c.done]))[0]};return S.set(t,a),a}K(e=>({...e,get:(t,s,n)=>M(t,s)||e.get(t,s,n),has:(t,s)=>!!M(t,s)||e.has(t,s)}));const he=["continue","continuePrimaryKey","advance"],w={},N=new WeakMap,W=new WeakMap,Ae={get(e,t){if(!he.includes(t))return e[t];let s=w[t];return s||(s=w[t]=function(...n){N.set(this,W.get(this)[t](...n))}),s}};async function*me(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const s=new Proxy(t,Ae);for(W.set(s,t),h.set(s,l(t));t;)yield s,t=await(N.get(s)||t.continue()),N.delete(s)}function y(e,t){return t===Symbol.asyncIterator&&C(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&C(e,[IDBIndex,IDBObjectStore])}K(e=>({...e,get(t,s,n){return y(t,s)?me:e.get(t,s,n)},has(t,s){return y(t,s)||e.has(t,s)}}));const Se="chart",Be=1,Ce="folder",I="chart";let d=null;const pe=()=>d||(d=fe(Se,Be,{upgrade(e){e.createObjectStore(I,{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0}),e.createObjectStore(Ce,{keyPath:"id",autoIncrement:!0}).createIndex("id","id",{unique:!0})}}),d),f=pe(),Te=q("Chart",{state:()=>({list:[]}),actions:{async update(){const e=await(await f).getAllFromIndex(I,"id");this.list=(e||[]).sort((t,s)=>s.updatedTime-t.updatedTime)},async get(e){return await(await f).transaction(I,"readwrite").store.get(+e)},async set(e){const t=(await f).transaction(I,"readwrite");if(e.id){const s=t.store.index("id");for await(const n of s.iterate(e.id)){const r=Object.assign(n.value,e);n.update(r)}return await t.done,e.id}else{const s=await t.store.add(e);return this.update(),await t.done,s}},async del(e){await(await f).delete(I,e),this.update()}}}),be=[["","Ford","Volvo","Toyota","Honda"],["2016",100,11,12,13],["2017",140,11,14,160],["2018",300,120,12,140]],Ne=[["城市","温度(摄氏度)"],["重庆","40.471"],["武汉","40.18"],["杭州","40.00"],["合肥","39.92"],["长沙","39.82"],["南昌","39.79"],["上海","39.45"],["南京","39.45"],["广州","39.00"],["南宁","38.61"],["西安","38.42"],["郑州","38.08"]],De=[["时间","Opera","Netscape","Mosaic","Internet","Firefox"],["1995","4864326","34532324","3418174","1007923","0"],["1996","5086483","54128209","1746071","14955480","0"],["1997","4057280","62211603","991779","22901082","0"],["1998","5051608","83438622","0","85703136","0"],["1999","14042073","53640722","0","213158682","0"],["2000","24199564","30351994","0","355610528","0"],["2001","5455663","45629185","0","444884558","0"],["2002","7039948","17279872","0","593275629","22399836"],["2003","8576881","12475463","0","664318435","94345695"],["2004","15303545","0","0","716565993","168338997"],["2005","15612324","0","0","638023666","387185652"],["2006","17370450","0","0","678605616","462053997"]],Ee=[["年份","衣","食","住","行"],["2006","1026.9","5249","1435.7","2332.8"],["2007","1330.1","5725.5","1212.1","3453.7"],["2008","1520.6","7108.6","1646.2","3373.2"],["2009","1593.1","7344.8","2213.2","3498.7"],["2010","1794.1","7277","2166.2","4076.5"],["2011","2053.8","8906","2425.7","3808.4"],["2012","2111.2","9655.6","1790.5","4563.8"]],Re=[["受教育水平","占比（%）"],["大学本科","63"],["大学专科","16.9"],["硕士","12.8"],["高中及以下","5.5"],["博士及以上","1.8"]],Me=[["年份","衣","食","住","行"],["2006","1026.9","5249","1435.7","2332.8"],["2007","1330.1","5725.5","1212.1","3453.7"],["2008","1520.6","7108.6","1646.2","3373.2"],["2009","1593.1","7344.8","2213.2","3498.7"],["2010","1794.1","7277","2166.2","4076.5"],["2011","2053.8","8906","2425.7","3808.4"],["2012","2111.2","9655.6","1790.5","4563.8"]],we=[["受教育水平","占比（%）"],["大学本科","63"],["大学专科","16.9"],["硕士","12.8"],["高中及以下","5.5"],["博士及以上","1.8"]],Oe={DYNAMIC_LINE_BAR_MIX:be,DYNAMIC_RANKING_BAR:Ne,DYNAMIC_RING:De,LINE_BASICS:Ee,PIE_BASICS:Re,BAR_BASICS:Me,RING_BASICS:we};export{Oe as D,Ce as F,je as P,ve as _,Le as a,pe as b,ae as c,B as d,Pe as e,xe as g,Te as u};
